{% extends "base.html" %} {% block main-content %}
<div class="page-header">
  <div class="row align-items-center">
    <div class="col">
      <h3 class="page-title">Add Teachers</h3>
      <ul class="breadcrumb">
        <li class="breadcrumb-item"><a href="teachers.html">Teachers</a></li>
        <li class="breadcrumb-item active">Add Teachers</li>
      </ul>
    </div>
  </div>
</div>
{% include "include/message.html" %}
<div class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="card-body">
        <form method="post" action="{% url "add_teacher" %}" enctype="multipart/form-data">
            {% csrf_token %}
          <div class="row">
            <div class="col-12">
              <h5 class="form-title"><span>Basic Details</span></h5>
            </div>
            {% comment %} <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Teacher ID</label>
                <input type="text" class="form-control" />
              </div>
            </div> {% endcomment %}
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>First Name</label>
                <input type="text" class="form-control" name ="first_name" placeholder="Enter First Name" required/>
              </div>
            </div>
            <div class="col-12 col-sm-6">
                <div class="form-group">
                  <label>Last Name</label>
                  <input type="text" class="form-control" name ="last_name" placeholder="Enter Last Name" required/>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="form-group">
                  <label>Father Name</label>
                  <input type="text" class="form-control" name ="father_name" placeholder="Enter Father Name" required/>
                </div>
              </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Gender</label>
                <select class="form-control" name="sex" required>
                  <option disabled selected>Select Gender</option>
                  <option>Male</option>
                  <option>Female</option>
                  
                </select>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Date of Birth</label>
                <input type="date" class="form-control" name="date_of_birth" required/>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Mobile</label>
                {% comment %} <input type="text" class="form-control" name="contact_number" required/> {% endcomment %}
                <input type="tel" 
                                class="form-control" 
                                id="contact_number" 
                                name="contact_number" 
                                pattern="[0-9]{10}"
                                inputmode="numeric"
                                maxlength="10"
                                title="Please enter exactly 10 digits for the contact number"
                                placeholder="Enter Mobile Number"
                                required>
                         <small class="form-text text-muted">Enter a 10-digit contact number.</small>
                         <div id="contactError" class="invalid-feedback"></div>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Joining Date</label>
                <input type="date" class="form-control" name="date_of_joining" required/>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Qualification</label>
                <input class="form-control" type="text" name="qualification" required/>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Teaching Subject</label>
                <input class="form-control" type="text" name="teaching_subject" required/>
              </div>
            </div>
            <div class="col-12">
              <h5 class="form-title"><span>Login Details</span></h5>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Username</label>
                <input type="text" class="form-control" name ="username" placeholder="Enter Username" required/>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Email ID</label>
                <input type="email" class="form-control" name="email" placeholder="Enter Email" required/>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Password</label>
                <input type="text" class="form-control" name="password" placeholder="Enter Password" required/>
              </div>
            </div>
            {% comment %} <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Repeat Password</label>
                <input type="text" class="form-control" name="password"/>
              </div>
            </div> {% endcomment %}
            <div class="col-12">
              <h5 class="form-title"><span>Address</span></h5>
            </div>
            {% comment %} <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>City</label>
                <input type="text" class="form-control" />
              </div>
            </div> {% endcomment %}
            {% comment %} <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>State</label>
                <input type="text" class="form-control" />
              </div>
            </div> {% endcomment %}
            {% comment %} <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Zip Code</label>
                <input type="text" class="form-control" />
              </div>
            </div> {% endcomment %}
            {% comment %} <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Country</label>
                <input type="text" class="form-control" />
              </div>
            </div> {% endcomment %}
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label>Permanent Address</label>
                <textarea  class="form-control" name="permanent_address" required></textarea>
              </div>
            </div>
            <div class="col-12 text-center">
              <button type="submit" class="btn btn-info">Submit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
  function setupPhoneInput(inputId) {
      const input = document.getElementById(inputId);
      const errorDiv = document.createElement('div');
      errorDiv.className = 'invalid-feedback';
      input.parentNode.appendChild(errorDiv);
  
      input.addEventListener('input', function(e) {
          // Remove any non-digit characters
          this.value = this.value.replace(/\D/g, '');
          
          // Check the length and show appropriate error
          if (this.value.length !== 10) {
              this.classList.add('is-invalid');
              if (this.value.length < 10) {
                  errorDiv.textContent = 'Phone number must be 10 digits long.';
              } else {
                  errorDiv.textContent = 'Phone number cannot be more than 10 digits.';
              }
          } else {
              this.classList.remove('is-invalid');
              errorDiv.textContent = '';
          }
      });
  }
  
  // Set up both inputs
  
  setupPhoneInput('contact_number');
</script>

{% endblock main-content %}
